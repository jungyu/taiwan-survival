<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ›¡ï¸ æˆ°æ™‚é›¢ç·šé€šè¨Šç¶²</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #1a1a1a; color: #fff; }
        .header { background: #2c1810; padding: 15px; text-align: center; border-bottom: 2px solid #8b4513; }
        .nav { background: #3a2317; padding: 10px; display: flex; justify-content: center; gap: 20px; }
        .nav-btn { background: #654321; color: #fff; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; }
        .nav-btn.active { background: #8b4513; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .card { background: #2a2a2a; border-radius: 8px; padding: 20px; margin-bottom: 20px; border-left: 4px solid #8b4513; }
        .status { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
        .status-dot { width: 12px; height: 12px; border-radius: 50%; }
        .online { background: #28a745; }
        .offline { background: #dc3545; }
        .urgent { background: #ff6b6b; color: #fff; border-color: #ff6b6b; }
        .medical { background: #17a2b8; color: #fff; border-color: #17a2b8; }
        .food { background: #ffc107; color: #000; border-color: #ffc107; }
        .shelter { background: #6f42c1; color: #fff; border-color: #6f42c1; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select, textarea { width: 100%; padding: 8px; border: 1px solid #555; border-radius: 4px; background: #333; color: #fff; }
        .btn { background: #8b4513; color: #fff; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px; }
        .btn:hover { background: #654321; }
        .btn-urgent { background: #dc3545; }
        .btn-urgent:hover { background: #c82333; }
        .message { padding: 10px; margin: 10px 0; border-radius: 4px; background: #333; }
        .message-urgent { border-left: 4px solid #dc3545; }
        .message-info { border-left: 4px solid #17a2b8; }
        .resource-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #444; }
        .resource-item:last-child { border-bottom: none; }
        .location { font-size: 0.9em; color: #ccc; }
        .distance { font-size: 0.8em; color: #999; }
        .hidden { display: none; }
        .emergency-alert { background: #ff0000; color: #fff; padding: 15px; margin-bottom: 20px; border-radius: 4px; font-weight: bold; text-align: center; animation: blink 1s infinite; }
        @keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0.5; } }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ›¡ï¸ æˆ°æ™‚é›¢ç·šé€šè¨Šç¶²</h1>
        <p>LoRa Mesh ç·Šæ€¥é€šè¨Šå¹³å° - ç‰©è³‡äº¤æ› & å®‰å…¨é€šè¨Š</p>
    </div>
    
    <div class="nav">
        <button class="nav-btn active" onclick="showSection('dashboard')">ç‹€æ…‹ç¸½è¦½</button>
        <button class="nav-btn" onclick="showSection('resources')">ç‰©è³‡äº¤æ›</button>
        <button class="nav-btn" onclick="showSection('emergency')">ç·Šæ€¥æ±‚åŠ©</button>
        <button class="nav-btn" onclick="showSection('messages')">å®‰å…¨é€šè¨Š</button>
        <button class="nav-btn" onclick="showSection('map')">ç¶²è·¯åœ°åœ–</button>
    </div>
    
    <div class="container">
        <!-- ç‹€æ…‹ç¸½è¦½ -->
        <div id="dashboard" class="section">
            <div class="status">
                <div class="status-dot online"></div>
                <span>LoRa ç¶²è·¯é€£ç·šæ­£å¸¸ | ç¯€é»ID: !a1b2c3d4 | æœ€å¾Œæ›´æ–°: 14:32</span>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3>ğŸ”— ç¶²è·¯ç‹€æ…‹</h3>
                    <p><strong>åœ¨ç·šç¯€é»:</strong> 23 å€‹</p>
                    <p><strong>è¦†è“‹ç¯„åœ:</strong> ç´„ 15km åŠå¾‘</p>
                    <p><strong>è·³èºæ•¸:</strong> æœ€å¤š 4 è·³</p>
                    <p><strong>é›»æ± å‰©é¤˜:</strong> 78%</p>
                </div>
                
                <div class="card">
                    <h3>ğŸ“¦ ç‰©è³‡æ¦‚æ³</h3>
                    <p><strong>å¯ç”¨ç‰©è³‡:</strong> 47 é …</p>
                    <p><strong>ç·Šæ€¥éœ€æ±‚:</strong> 8 é …</p>
                    <p><strong>é†«ç™‚ç”¨å“:</strong> 12 é …</p>
                    <p><strong>é£Ÿç‰©æ°´æº:</strong> 18 é …</p>
                </div>
                
                <div class="card">
                    <h3>ğŸš¨ ç·Šæ€¥ç‹€æ³</h3>
                    <p><strong>æ´»èºæ±‚åŠ©:</strong> 3 å€‹</p>
                    <p><strong>é†«ç™‚ç·Šæ€¥:</strong> 1 å€‹</p>
                    <p><strong>é¿é›£éœ€æ±‚:</strong> 2 å€‹</p>
                    <p><strong>æœ€è¿‘æ›´æ–°:</strong> 5 åˆ†é˜å‰</p>
                </div>
                
                <div class="card">
                    <h3>ğŸ“¡ é€šè¨Šçµ±è¨ˆ</h3>
                    <p><strong>ä»Šæ—¥è¨Šæ¯:</strong> 156 å‰‡</p>
                    <p><strong>æˆåŠŸé€é”:</strong> 89%</p>
                    <p><strong>å¹³å‡å»¶é²:</strong> 12 ç§’</p>
                    <p><strong>ç¶²è·¯è² è¼‰:</strong> ä¸­ç­‰</p>
                </div>
            </div>
        </div>
        
        <!-- ç‰©è³‡äº¤æ› -->
        <div id="resources" class="section hidden">
            <div class="grid">
                <div class="card">
                    <h3>ğŸ¯ ç™¼å¸ƒç‰©è³‡éœ€æ±‚</h3>
                    <div class="form-group">
                        <label>ç‰©è³‡é¡å‹</label>
                        <select id="resourceType">
                            <option value="food">é£Ÿç‰©/é£²æ°´</option>
                            <option value="medical">é†«ç™‚ç”¨å“</option>
                            <option value="shelter">é¿é›£ç”¨å“</option>
                            <option value="clothing">è¡£ç‰©</option>
                            <option value="tools">å·¥å…·</option>
                            <option value="other">å…¶ä»–</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ç‰©è³‡æè¿°</label>
                        <input type="text" id="resourceDesc" placeholder="ä¾‹: æ€¥éœ€å¬°å…’å¥¶ç²‰ 2ç½">
                    </div>
                    <div class="form-group">
                        <label>ç·Šæ€¥ç¨‹åº¦</label>
                        <select id="urgency">
                            <option value="high">ç·Šæ€¥ (24å°æ™‚å…§)</option>
                            <option value="medium">é‡è¦ (3å¤©å…§)</option>
                            <option value="low">ä¸€èˆ¬</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>å¯äº¤æ›ç‰©è³‡</label>
                        <input type="text" id="exchange" placeholder="å¯æä¾›çš„ç‰©è³‡æˆ–æœå‹™">
                    </div>
                    <button class="btn" onclick="publishResource()">ç™¼å¸ƒéœ€æ±‚</button>
                </div>
                
                <div class="card">
                    <h3>ğŸ“‹ ç‰©è³‡éœ€æ±‚åˆ—è¡¨</h3>
                    <div id="resourceList">
                        <div class="resource-item urgent">
                            <div>
                                <strong>ğŸ¥ é†«ç™‚ç”¨å“ - èƒ°å³¶ç´ </strong>
                                <div class="location">ğŸ“ å¸‚ä¸­å¿ƒé¿é›£æ‰€</div>
                                <div class="distance">è·é›¢: 2.3km | 2è·³</div>
                            </div>
                            <div>
                                <button class="btn btn-urgent">è¯çµ¡</button>
                            </div>
                        </div>
                        <div class="resource-item food">
                            <div>
                                <strong>ğŸ¼ å¬°å…’å¥¶ç²‰</strong>
                                <div class="location">ğŸ“ æ±å€ç¤¾å€</div>
                                <div class="distance">è·é›¢: 1.8km | 1è·³</div>
                            </div>
                            <div>
                                <button class="btn">è¯çµ¡</button>
                            </div>
                        </div>
                        <div class="resource-item shelter">
                            <div>
                                <strong>ğŸ  è‡¨æ™‚ä½æ‰€</strong>
                                <div class="location">ğŸ“ è¥¿å€æ•™æœƒ</div>
                                <div class="distance">è·é›¢: 3.1km | 3è·³</div>
                            </div>
                            <div>
                                <button class="btn">è¯çµ¡</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ç·Šæ€¥æ±‚åŠ© -->
        <div id="emergency" class="section hidden">
            <div class="emergency-alert">
                âš ï¸ ç·Šæ€¥æ±‚åŠ©å°‡å»£æ’­åˆ°æ‰€æœ‰ç¯€é» - è«‹è¬¹æ…ä½¿ç”¨
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3>ğŸš¨ ç™¼é€ç·Šæ€¥æ±‚åŠ©</h3>
                    <div class="form-group">
                        <label>ç·Šæ€¥é¡å‹</label>
                        <select id="emergencyType">
                            <option value="medical">é†«ç™‚æ€¥æ•‘</option>
                            <option value="trapped">å—å›°éœ€è¦æ•‘æ´</option>
                            <option value="fire">ç«ç½</option>
                            <option value="violence">æš´åŠ›å¨è„…</option>
                            <option value="missing">å¤±è¹¤äººå“¡</option>
                            <option value="other">å…¶ä»–ç·Šæ€¥æƒ…æ³</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>è©³ç´°æè¿°</label>
                        <textarea id="emergencyDesc" rows="3" placeholder="è«‹è©³ç´°æè¿°æƒ…æ³ã€ä½ç½®ã€éœ€è¦çš„å”åŠ©"></textarea>
                    </div>
                    <div class="form-group">
                        <label>è¯çµ¡æ–¹å¼</label>
                        <input type="text" id="contact" placeholder="å¦‚ä½•è¯çµ¡æ‚¨ (é »é“ã€å‘¼è™Ÿç­‰)">
                    </div>
                    <button class="btn btn-urgent" onclick="sendEmergency()">ğŸš¨ ç™¼é€ç·Šæ€¥æ±‚åŠ©</button>
                </div>
                
                <div class="card">
                    <h3>ğŸ“¢ ç·Šæ€¥æ±‚åŠ©åˆ—è¡¨</h3>
                    <div id="emergencyList">
                        <div class="message message-urgent">
                            <strong>ğŸ¥ é†«ç™‚æ€¥æ•‘</strong><br>
                            <span class="location">ğŸ“ !b2c3d4e5 | è·é›¢: 1.2km</span><br>
                            è€äººå¿ƒè‡Ÿç—…ç™¼ä½œï¼Œéœ€è¦æ€¥æ•‘è—¥ç‰©<br>
                            <small>ç™¼é€æ™‚é–“: 14:28 | è¯çµ¡: é »é“3</small>
                        </div>
                        <div class="message message-urgent">
                            <strong>ğŸ”¥ ç«ç½</strong><br>
                            <span class="location">ğŸ“ !c3d4e5f6 | è·é›¢: 2.8km</span><br>
                            å»ºç¯‰ç‰©ç«ç½ï¼Œéœ€è¦æ»…ç«è¨­å‚™<br>
                            <small>ç™¼é€æ™‚é–“: 14:15 | è¯çµ¡: é »é“1</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- å®‰å…¨é€šè¨Š -->
        <div id="messages" class="section hidden">
            <div class="grid">
                <div class="card">
                    <h3>ğŸ’¬ ç™¼é€è¨Šæ¯</h3>
                    <div class="form-group">
                        <label>æ”¶ä»¶äºº</label>
                        <select id="recipient">
                            <option value="broadcast">å»£æ’­åˆ°æ‰€æœ‰ç¯€é»</option>
                            <option value="!a1b2c3d4">!a1b2c3d4 (é†«ç™‚ç«™)</option>
                            <option value="!b2c3d4e5">!b2c3d4e5 (ç‰©è³‡ä¸­å¿ƒ)</option>
                            <option value="!c3d4e5f6">!c3d4e5f6 (é¿é›£æ‰€)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>è¨Šæ¯å…§å®¹</label>
                        <textarea id="messageContent" rows="4" placeholder="è«‹è¼¸å…¥è¨Šæ¯å…§å®¹ (å»ºè­°200å­—ä»¥å…§)"></textarea>
                    </div>
                    <button class="btn" onclick="sendMessage()">ç™¼é€è¨Šæ¯</button>
                </div>
                
                <div class="card">
                    <h3>ğŸ“¨ æ”¶ä»¶ç®±</h3>
                    <div id="inbox">
                        <div class="message message-info">
                            <strong>ä¾†è‡ª: !b2c3d4e5</strong><br>
                            ä»Šæ—¥ç‰©è³‡é…é€æ™‚é–“æ”¹ç‚º16:00<br>
                            <small>æ”¶åˆ°æ™‚é–“: 14:30</small>
                        </div>
                        <div class="message">
                            <strong>ä¾†è‡ª: !c3d4e5f6</strong><br>
                            é¿é›£æ‰€é‚„æœ‰ç©ºä½ï¼Œæ­¡è¿éœ€è¦çš„äººå‰ä¾†<br>
                            <small>æ”¶åˆ°æ™‚é–“: 14:22</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ç¶²è·¯åœ°åœ– -->
        <div id="map" class="section hidden">
            <div class="card">
                <h3>ğŸ—ºï¸ LoRa ç¶²è·¯æ‹“æ’²åœ–</h3>
                <div style="background: #333; height: 400px; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                    <div style="text-align: center; color: #999;">
                        <p>ğŸ“¡ ç¶²è·¯åœ°åœ– (ç°¡åŒ–ç‰ˆ)</p>
                        <p>ä¸­å¿ƒç¯€é»: !a1b2c3d4 (ä½ )</p>
                        <p>â†—ï¸ !b2c3d4e5 (1.2km, é†«ç™‚ç«™)</p>
                        <p>â†˜ï¸ !c3d4e5f6 (2.8km, ç‰©è³‡ä¸­å¿ƒ)</p>
                        <p>â†™ï¸ !d4e5f6g7 (1.5km, é¿é›£æ‰€)</p>
                        <p>â†–ï¸ !e5f6g7h8 (3.2km, é€šè¨Šä¸­ç¹¼)</p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>ğŸ“Š ç¯€é»è©³ç´°è³‡è¨Š</h3>
                <div class="resource-item">
                    <div>
                        <strong>!a1b2c3d4 (æ‚¨çš„ç¯€é»)</strong>
                        <div class="location">ğŸ“ ä¸­å¿ƒä½ç½® | é›»æ± : 78%</div>
                    </div>
                    <div>åœ¨ç·š</div>
                </div>
                <div class="resource-item">
                    <div>
                        <strong>!b2c3d4e5 (é†«ç™‚ç«™)</strong>
                        <div class="location">ğŸ“ 1.2km | é›»æ± : 92%</div>
                    </div>
                    <div>åœ¨ç·š</div>
                </div>
                <div class="resource-item">
                    <div>
                        <strong>!c3d4e5f6 (ç‰©è³‡ä¸­å¿ƒ)</strong>
                        <div class="location">ğŸ“ 2.8km | é›»æ± : 65%</div>
                    </div>
                    <div>åœ¨ç·š</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function showSection(sectionId) {
            // éš±è—æ‰€æœ‰å€æ®µ
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // é¡¯ç¤ºé¸ä¸­å€æ®µ
            document.getElementById(sectionId).classList.remove('hidden');
            
            // æ›´æ–°å°èˆªæŒ‰éˆ•
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }
        
        function publishResource() {
            const type = document.getElementById('resourceType').value;
            const desc = document.getElementById('resourceDesc').value;
            const urgency = document.getElementById('urgency').value;
            const exchange = document.getElementById('exchange').value;
            
            if (!desc) {
                alert('è«‹å¡«å¯«ç‰©è³‡æè¿°');
                return;
            }
            
            // æ¨¡æ“¬ API å‘¼å«
            const resourceData = {
                type: type,
                description: desc,
                urgency: urgency,
                exchange: exchange,
                timestamp: new Date().toISOString()
            };
            
            console.log('ç™¼å¸ƒç‰©è³‡éœ€æ±‚:', resourceData);
            alert('ç‰©è³‡éœ€æ±‚å·²ç™¼å¸ƒåˆ°ç¶²è·¯');
            
            // æ¸…ç©ºè¡¨å–®
            document.getElementById('resourceDesc').value = '';
            document.getElementById('exchange').value = '';
        }
        
        function sendEmergency() {
            const type = document.getElementById('emergencyType').value;
            const desc = document.getElementById('emergencyDesc').value;
            const contact = document.getElementById('contact').value;
            
            if (!desc) {
                alert('è«‹å¡«å¯«ç·Šæ€¥æƒ…æ³æè¿°');
                return;
            }
            
            if (confirm('ç¢ºå®šè¦ç™¼é€ç·Šæ€¥æ±‚åŠ©å—ï¼Ÿé€™å°‡å»£æ’­åˆ°æ‰€æœ‰ç¯€é»ï¼')) {
                const emergencyData = {
                    type: type,
                    description: desc,
                    contact: contact,
                    timestamp: new Date().toISOString()
                };
                
                console.log('ç™¼é€ç·Šæ€¥æ±‚åŠ©:', emergencyData);
                alert('ç·Šæ€¥æ±‚åŠ©å·²ç™¼é€åˆ°æ‰€æœ‰ç¯€é»');
                
                // æ¸…ç©ºè¡¨å–®
                document.getElementById('emergencyDesc').value = '';
                document.getElementById('contact').value = '';
            }
        }
        
        function sendMessage() {
            const recipient = document.getElementById('recipient').value;
            const content = document.getElementById('messageContent').value;
            
            if (!content) {
                alert('è«‹è¼¸å…¥è¨Šæ¯å…§å®¹');
                return;
            }
            
            const messageData = {
                to: recipient,
                content: content,
                timestamp: new Date().toISOString()
            };
            
            console.log('ç™¼é€è¨Šæ¯:', messageData);
            alert('è¨Šæ¯å·²ç™¼é€');
            
            // æ¸…ç©ºè¡¨å–®
            document.getElementById('messageContent').value = '';
        }
        
        // æ¨¡æ“¬å®šæœŸæ›´æ–°
        setInterval(() => {
            // æ›´æ–°ç¯€é»ç‹€æ…‹ã€æ–°è¨Šæ¯ç­‰
            console.log('æ›´æ–°ç¶²è·¯ç‹€æ…‹...');
        }, 30000);
    </script>
</body>
</html>